# Default values for backend.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

# Number of replicas for the backend deployment
replicaCount: 1

# Image configuration
image:
  # Docker registry to pull the image from
  registry: docker.io
  # Repository/image name
  repository: lido/backend
  # Image tag (can be overridden)
  tag: "latest"
  # Image pull policy
  pullPolicy: IfNotPresent

# Image pull secrets for private registries
imagePullSecrets: []
# Example:
# imagePullSecrets:
#   - name: myregistrykey

# Service configuration
service:
  # Service type
  type: ClusterIP
  # Service port
  port: 3000
  # Target port on the container
  targetPort: 3000

# Ingress configuration
ingress:
  # Enable/disable ingress
  enabled: false
  # Ingress class name
  className: "nginx"
  # Ingress annotations
  annotations: {}
  # Example annotations:
  # annotations:
  #   nginx.ingress.kubernetes.io/rewrite-target: /
  #   cert-manager.io/cluster-issuer: letsencrypt-prod

  # Ingress hosts configuration
  hosts:
    - host: backend.local
      paths:
        - path: /
          pathType: Prefix

  # TLS configuration
  tls: []
  # Example TLS:
  # tls:
  #   - secretName: backend-tls
  #     hosts:
  #       - backend.local

# Container command
command: []

# Container args
args: []

# Environment variables
env:
  # Static environment variables
  variables: {}
  # Example:
  # variables:
  #   NODE_ENV: production
  #   API_URL: https://api.example.com

  # Environment variables from secrets
  secrets: {}
  # Example:
  # secrets:
  #   DATABASE_PASSWORD:
  #     secretName: backend-secrets
  #     key: db-password

  # Environment variables from config maps
  configMaps: {}
  # Example:
  # configMaps:
  #   APP_CONFIG:
  #     configMapName: backend-config
  #     key: app-config

# Resource limits and requests
resources: {}
# Example:
# resources:
#   limits:
#     cpu: 500m
#     memory: 512Mi
#   requests:
#     cpu: 250m
#     memory: 256Mi

# Node selector
nodeSelector: {}

# Tolerations
tolerations: []

# Affinity rules
affinity: {}

# Security context
securityContext: {}

# Pod security context
podSecurityContext: {}

# Liveness probe
livenessProbe:
  httpGet:
    path: /health
    port: http
  initialDelaySeconds: 30
  periodSeconds: 10

# Readiness probe
readinessProbe:
  httpGet:
    path: /ready
    port: http
  initialDelaySeconds: 5
  periodSeconds: 5

# Additional labels
additionalLabels: {}

# Additional annotations
additionalAnnotations: {}

# Service account
serviceAccount:
  # Create service account
  create: true
  # Service account annotations
  annotations: {}
  # Service account name (if not created, must exist)
  name: "lido-backend"
